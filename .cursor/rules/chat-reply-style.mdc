---
description: 回复末尾在适当时机给出 Refined Query（更精确表达、原 query 缺陷、推荐理由），并严格筛选后维护 docs/human/chat-example.md 错题集
alwaysApply: true
---

# Chat 回复风格与 Refined Query

## Refined Query 模块

在适当时机，于**本次回复末尾**以独立小节形式给出「Refined Query」，帮助用户改进提问方式。

### 内容（三点）

1. **更精确/专业的表达**：给出可直接复制使用的推荐 query 表述。
2. **原 query 的缺陷**：归类说明——表达不精确（意图含糊、歧义、逻辑错误）或专业性问题（未用专业术语、表达不专业等）。
3. **推荐 query 好在哪里**：简要说明为何推荐表述更利于训练与对话效果。

### 出现时机（不强制每次都有）

- 当**原 query 中明确要求给出更好/更精确的 query** 时，必须给出。
- 当**原 query 存在明显错误**，或**推荐 query 明显更优**时给出。
- **尤其涉及专业性表达**时尽量给出。

---

## 错题集维护（docs/human/chat-example.md）

在 `docs/human/chat-example.md` 维护典型 query 错题集。

### 文件结构

- **顶部**：`## 错误类型总结` 为边界的总结模块，列出已出现的错误类型（如意图含糊、表达歧义、逻辑错误、未使用专业术语、表达不专业等），便于轻量读取。
- **下方**：`## 典型示例`，每条含「原 query」+ refined query、缺陷分析、推荐理由。

### 筛选与录入

- **筛选标准**（偏严格）：仅当存在**新错误类型**，或**重复犯的同类错误**等典型情况时才新增条目。
- **判断流程**：决定是否写入错题集时，**只读取** `docs/human/chat-example.md` 的**错误类型总结模块**（从文件开头到 `## 典型示例` 之前），不拉取全文，以节约 token；根据总结判断是否为「新错误类型」或「重复典型错误」。
- **更新**：若本次纠错归纳出的错误类型在总结中尚未覆盖，在追加条目的同时**更新顶部的错误类型总结**。
